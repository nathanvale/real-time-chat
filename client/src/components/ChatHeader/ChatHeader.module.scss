@import '../../styles/variables.scss';

.header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--space-sm);
	padding: var(--space-md) var(--space-base);
	background: var(--color-surface);
	border-bottom: 1px solid var(--color-border-light);
	box-shadow: var(--shadow-sm);
	flex-shrink: 0;

	// Increase padding and gap on larger screens
	@media (min-width: 768px) {
		gap: var(--space-base);
		padding: var(--space-base) var(--space-lg);
	}
}

.roomInfo {
	display: flex;
	align-items: center;
	gap: var(--space-sm);
	flex: 1;
	min-width: 0; // Allow flex children to shrink

	// Increase gap on larger screens
	@media (min-width: 768px) {
		gap: var(--space-lg);
	}
}

.roomCode {
	display: flex;
	align-items: center;
	gap: var(--space-sm);
}

.roomCodeLabel {
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	color: var(--color-text-secondary);
}

.roomCodeValue {
	font-size: var(--font-size-base);
	font-weight: var(--font-weight-bold);
	font-family: 'Monaco', 'Courier New', monospace;
	color: var(--color-primary);
	background: var(--color-primary-light);
	padding: var(--space-xs) var(--space-sm);
	border-radius: var(--radius-sm);
	letter-spacing: 0.05em;

	// Larger font and padding on larger screens
	@media (min-width: 768px) {
		font-size: var(--font-size-lg);
		padding: var(--space-xs) var(--space-md);
	}
}

.copyButton {
	padding: var(--space-xs) var(--space-sm);
	font-size: var(--font-size-base);
	background: transparent;
	border: 1px solid var(--color-border);
	border-radius: var(--radius-sm);
	cursor: pointer;
	outline: 3px solid transparent;
	transition: background-color var(--transition-fast),
		border-color var(--transition-fast), transform var(--transition-fast);

	&:hover {
		background: var(--color-surface-hover);
		border-color: var(--color-primary);
		transform: scale(1.02);
	}

	&:active {
		transform: scale(0.98);
	}

	&:focus-visible {
		outline: 2px solid var(--color-text-primary);
		outline-offset: 2px;
	}
}

.authBadge {
	padding: var(--space-xs) var(--space-sm);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	color: var(--color-success);
	background: var(--color-success-light);
	border-radius: var(--radius-pill);
	white-space: nowrap;
}

.authBadgeNone {
	padding: var(--space-xs) var(--space-sm);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	color: var(--color-text-secondary);
	background: var(--color-surface-hover);
	border-radius: var(--radius-pill);
	white-space: nowrap;
}

.users {
	display: flex;
	align-items: center;
	gap: var(--space-sm);
	position: relative;
}

.userCountBadge {
	padding: var(--space-xs) var(--space-md);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	font-family: var(--font-family);
	color: var(--color-text-on-primary);
	background: var(--color-primary);
	border: none;
	border-radius: var(--radius-pill);
	cursor: pointer;
	outline: 3px solid transparent;
	transition: background-color var(--transition-fast), transform var(--transition-fast);
	white-space: nowrap;

	// Only show toggle button on mobile
	@media (min-width: 768px) {
		display: none;
	}

	&:hover {
		background: var(--color-primary-hover);
		transform: scale(1.05);
	}

	&:active {
		transform: scale(0.95);
	}

	&:focus-visible {
		outline: 2px solid var(--color-text-primary);
		outline-offset: 2px;
	}
}

// Desktop: plain text count (hidden on mobile, shown when <= 3 users)
.userCountText {
	display: none;
	padding: var(--space-xs) var(--space-md);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	color: var(--color-text-on-primary);
	background: var(--color-primary);
	border-radius: var(--radius-pill);
	white-space: nowrap;

	@media (min-width: 768px) {
		display: inline-block;
	}
}

// Desktop: clickable count (hidden on mobile, shown when > 3 users)
.userCountTextButton {
	display: none;
	padding: var(--space-xs) var(--space-md);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	font-family: var(--font-family);
	color: var(--color-text-on-primary);
	background: var(--color-primary);
	border: none;
	border-radius: var(--radius-pill);
	cursor: pointer;
	outline: 3px solid transparent;
	white-space: nowrap;
	transition: background-color var(--transition-fast),
		transform var(--transition-fast);

	@media (min-width: 768px) {
		display: inline-block;
	}

	&:hover {
		background: var(--color-primary-hover);
		transform: scale(1.05);
	}

	&:active {
		transform: scale(0.95);
	}

	&:focus-visible {
		outline: 2px solid var(--color-text-primary);
		outline-offset: 2px;
	}
}

// Desktop: inline user badges (first N + overflow indicator)
.userBadges {
	display: none;
	flex-wrap: wrap;
	gap: var(--space-xs);

	@media (min-width: 768px) {
		display: flex;
	}
}

// Dropdown: full user list (mobile toggle, desktop overflow toggle)
.userList {
	display: none;
}

.userListVisible {
	display: flex;
	flex-wrap: wrap;
	gap: var(--space-xs);
	position: absolute;
	top: 100%;
	left: 0;
	margin-top: var(--space-xs);
	padding: var(--space-sm);
	background: var(--color-surface);
	border: 1px solid var(--color-border-light);
	border-radius: var(--radius-md);
	box-shadow: var(--shadow-md);
	z-index: 10;
	min-width: 200px;
}

.userName {
	padding: var(--space-xs) var(--space-sm);
	font-size: var(--font-size-sm);
	color: var(--color-text-primary);
	background: var(--color-surface-hover);
	border-radius: var(--radius-pill);
	white-space: nowrap;
}

.leaveButton {
	padding: var(--space-sm) var(--space-base);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	font-family: var(--font-family);
	color: var(--color-error);
	background: transparent;
	border: 1px solid var(--color-error);
	border-radius: var(--radius-md);
	cursor: pointer;
	outline: 3px solid transparent;
	transition: background-color var(--transition-fast),
		color var(--transition-fast), transform var(--transition-fast);
	white-space: nowrap;

	&:hover {
		background: var(--color-error);
		color: white;
		transform: scale(1.02);
	}

	&:active {
		transform: scale(0.98);
	}

	&:focus-visible {
		outline: 2px solid var(--color-text-primary);
		outline-offset: 2px;
	}
}
